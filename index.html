<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>カラオケ進行管理</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>🎤 カラオケ進行管理</h1>

        <!-- 準備フェーズ -->
        <div id="setupPhase">
            <div class="section">
                <label for="participantCount">参加人数を選択:</label>
                <select id="participantCount">
                    <option value="">選択してください</option>
                    <option value="1">1人</option>
                    <option value="2">2人</option>
                    <option value="3">3人</option>
                    <option value="4">4人</option>
                    <option value="5">5人</option>
                    <option value="6">6人</option>
                    <option value="7">7人</option>
                    <option value="8">8人</option>
                    <option value="9">9人</option>
                    <option value="10">10人</option>
                    <option value="11">11人</option>
                    <option value="12">12人</option>
                    <option value="13">13人</option>
                    <option value="14">14人</option>
                    <option value="15">15人</option>
                    <option value="16">16人</option>
                    <option value="17">17人</option>
                    <option value="18">18人</option>
                    <option value="19">19人</option>
                    <option value="20">20人</option>
                </select>
                <button onclick="showNameInput()">次へ</button>
            </div>
        </div>

        <!-- 名前入力フェーズ -->
        <div id="nameInputPhase" class="hidden">
            <div class="section">
                <div class="section-title">参加者の名前を入力</div>
                <div class="info-text">※全ての参加者の名前を入力してください（必須）</div>
                <div id="nameInputContainer"></div>
                <button onclick="startFirstSong()">1発目の準備へ</button>
            </div>
        </div>

        <!-- 1発目フェーズ -->
        <div id="firstSongPhase" class="hidden">
            <div class="section">
                <div class="section-title">1発目: 全員で歌う曲を選択</div>
                全員でマイクを回そう！
                <label>曲候補:</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="千本桜">
                        <span>千本桜</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="紅蓮華">
                        <span>紅蓮華</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="残酷な天使のテーゼ">
                        <span>残酷な天使のテーゼ</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="夜に駆ける">
                        <span>夜に駆ける</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="マリーゴールド">
                        <span>マリーゴールド</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="香水">
                        <span>香水</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="Lemon">
                        <span>Lemon</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="ドライフラワー">
                        <span>ドライフラワー</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="シンデレラガール">
                        <span>シンデレラガール</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="アイドル">
                        <span>アイドル</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firstSong" value="その他">
                        <span>その他</span>
                    </label>
                </div>
                <button onclick="showFirstSongOrder()">マイク回し順を決定</button>
            </div>

            <div id="firstSongResult" class="result-box hidden">
                <h3>🎵 1発目: マイク回し順</h3>
                <div class="result-item">
                    <strong>選曲:</strong> <span id="selectedSong" class="highlight"></span>
                </div>
                <div class="result-item" id="clockwiseOrder"></div>
                <button class="next-round-btn" onclick="startSecondRound()">2発目以降へ進む</button>
            </div>
        </div>

        <!-- 2発目以降フェーズ -->
        <div id="mainPhase" class="hidden">
            <div class="round-info" id="roundInfo">ラウンド 1</div>
            
            <div class="result-box">
                <h3>🎲 今回の設定</h3>
                <div class="result-item">
                    <strong>チーム分け:</strong> <span id="who" class="highlight"></span>
                </div>
                <div class="result-item">
                    <strong>ゲーム:</strong> <span id="what" class="highlight clickable" onclick="showRuleModal()"></span>
                    <div style="font-size: 12px; color: #888; margin-top: 5px;">※ルールの詳細を確認したいならクリック</div>
                </div>
            </div>

            <div class="result-box">
                <h3>📋 歌う順番</h3>
                <ul id="orderList" class="order-list"></ul>
            </div>

            <button class="next-round-btn" onclick="nextRound()">次のラウンドへ</button>
        </div>

        <!-- ルール説明モーダル -->
        <div id="ruleModal" class="modal" onclick="closeModal(event)">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header" id="modalTitle">ルール説明</div>
                <div class="modal-body" id="modalBody">
                    <!-- JavaScriptで動的に内容が挿入されます -->
                </div>
                <button class="close-btn" onclick="closeModal()">閉じる</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
